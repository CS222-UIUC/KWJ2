#MTA4MTA3OTYzMDYzMjU4NzMwNA.GXY-RO.1TE3a_pqwexb3qjK0VwIh-GDp98dLMW8fMXNL8
import discord, asyncio, os 
from discord.ext.commands import Bot
from discord.ext import commands
from datetime import datetime, timedelta
import random
import re
#git check
TOKEN = 'MTA4MTA3OTYzMDYzMjU4NzMwNA.GXY-RO.1TE3a_pqwexb3qjK0VwIh-GDp98dLMW8fMXNL8'

intents = discord.Intents.all()
game = discord.Game("Let's help")

bot = commands.Bot(command_prefix='?', status=discord.Status.online, activity=game, intents=intents)

@bot.listen('on_message')
async def studytimer(message):
    #channel = ctx.channel
    if message.content.startswith("studytimer"):
        #await message.channel.send('Please write how many minutes you want to set the timer. (In minutes!!)')
        #mins = message.content
        parts = message.content.split(':', maxsplit=1)
        mins = parts[0].split(' ', maxsplit=1)[1]
        secs = parts[1].strip() if len(parts) > 1 else ""

        await message.channel.send(f"Your timer is set to {mins}minutes {secs}seconds from now!")
        mins=int(mins)
        secs=int(secs)
        
        mins=mins*60
        await asyncio.sleep(mins+secs)

        await message.channel.send("Time is over!!!")

bot.run(TOKEN)
